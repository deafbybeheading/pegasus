<?xml version="1.0" encoding="utf-8"?>
<s:Panel xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark"
    xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:pg="org.postgresql.pgconsole.component.*"
    height="300" title="Enter query:">
    <fx:Script>
        <![CDATA[
            import org.postgresql.pgconsole.view.model.QueryInputViewParameter;
            import org.postgresql.pgconsole.view.model.QueryInputViewPresentationModel;

            [Inject]
            [Bindable]
            public var model:QueryInputViewPresentationModel;
        ]]>
    </fx:Script>
    <s:layout>
        <s:HorizontalLayout paddingBottom="5" paddingLeft="5" paddingRight="5" paddingTop="5"/>
    </s:layout>
    <s:TextArea id="queryText" width="100%" height="100%"/>
    <s:Group height="100%">
        <s:layout>
            <s:VerticalLayout/>
        </s:layout>
        <s:List dataProvider="{model.args}" itemRenderer="org.postgresql.pgconsole.component.ParameterInputRenderer"
            width="100%" height="100%"/>
        <s:Group width="100%">
            <s:layout>
                <s:HorizontalLayout horizontalAlign="center"/>
            </s:layout>
            <s:Button label="add parameter" click="model.args.addItem(new QueryInputViewParameter())"/>
            <s:Button label="Execute" click="model.execute(queryText.text)"/>
        </s:Group>
    </s:Group>
</s:Panel>